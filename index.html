<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ©ã‚¤ãƒ•ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆè¨ºæ–­ | Life Alignment Assessment</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=RocknRoll+One&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', Meiryo, sans-serif;
            background: #f5f7fa;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 0;
            box-shadow: none;
            max-width: 480px;
            width: 100%;
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #7E6BA8 0%, #5B8FD9 100%);
            color: white;
            padding: 60px 30px 50px 30px;
            text-align: center;
            border-bottom: none;
        }

        .header h1 {
            font-size: 38px;
            margin-bottom: 12px;
            font-weight: 700;
            color: white;
            font-family: 'RocknRoll One', sans-serif;
            line-height: 1.4;
        }

        .header p {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.9);
            font-family: 'RocknRoll One', sans-serif;
        }

        .progress-container {
            padding: 20px 30px;
            background: #fafbfc;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: #e8ecef;
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #7E6BA8 0%, #5B8FD9 100%);
            transition: width 0.4s ease;
            border-radius: 10px;
        }

        .progress-text {
            margin-top: 10px;
            text-align: center;
            color: #888;
            font-size: 13px;
            font-weight: 500;
        }

        .content {
            padding: 40px 25px;
        }

        .start-screen {
            text-align: center;
        }

        .start-screen h2 {
            display: none;
        }

        .start-screen .subtitle {
            display: none;
        }

        .start-screen .subtitle-en {
            display: none;
        }

        .completion-time {
            text-align: center;
            font-size: 18px;
            color: #5B8FD9;
            font-weight: 700;
            margin-bottom: 25px;
            font-family: 'RocknRoll One', sans-serif;
        }

        .completion-time:before {
            content: '';
            margin-right: 0;
        }

        .start-screen p {
            font-size: 16px;
            color: #666;
            line-height: 1.8;
            margin-bottom: 30px;
            font-weight: 600;
        }

        .info-box {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            text-align: left;
        }

        .info-box h3 {
            font-size: 22px;
            margin-bottom: 23px;
            color: #7E6BA8;
            font-family: 'RocknRoll One', sans-serif;
        }

        .info-box ul {
            list-style: none;
            padding: 0;
        }

        .info-box li {
            padding: 12px 0;
            color: #555;
            display: flex;
            flex-direction: column;
            line-height: 1.7;
        }

        .info-box li strong {
            font-weight: 700;
        }

        .info-box li:before {
            content: none;
        }

        .category-name {
            font-weight: 700;
            color: #333;
            margin-bottom: 6px;
        }

        .category-desc {
            color: #666;
            padding-left: 0;
        }

        .button {
            background: linear-gradient(135deg, #7E6BA8 0%, #5B8FD9 100%);
            color: white;
            border: none;
            border-radius: 60px;
            padding: 20px 32px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 20px auto;
            box-shadow: 0 6px 25px rgba(126, 106, 168, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            width: fit-content;
            white-space: nowrap;
        }

        .button:after {
            content: 'â–¶';
            font-size: 18px;
        }

        .button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(126, 106, 168, 0.4);
        }

        .button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .question-screen {
            display: none;
        }

        .question-screen .header {
            display: none;
        }

        .question-number {
            font-size: 34px;
            font-weight: 700;
            background: linear-gradient(135deg, #7E6BA8 0%, #5B8FD9 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 30px;
            text-align: center;
            font-family: 'RocknRoll One', sans-serif;
        }

        .question-text {
            font-size: 30px;
            font-weight: 700;
            background: linear-gradient(90deg, #7E6BA8 0%, #5B8FD9 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 50px;
            line-height: 1.4;
            text-align: center;
            font-family: 'RocknRoll One', sans-serif;
        }

        .choice-container {
            margin-bottom: 50px;
        }

        .choice-cards {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .choice-item {
            border-radius: 16px;
            padding: 30px 25px;
            flex: 1;
        }

        .choice-item.choice-a {
            background: linear-gradient(135deg, #E8E4F3 0%, #D6CFEB 100%);
        }

        .choice-item.choice-b {
            background: linear-gradient(135deg, #D4E4F7 0%, #C5D9F2 100%);
        }

        .choice-label {
            font-weight: 700;
            margin-bottom: 15px;
            font-size: 32px;
        }

        .choice-item.choice-a .choice-label {
            color: #7E6BA8;
        }

        .choice-item.choice-b .choice-label {
            color: #5B8FD9;
        }

        .choice-text {
            color: #4a4a4a;
            line-height: 1.7;
            font-size: 16px;
            font-weight: 500;
        }

        .slider-container {
            margin-top: 40px;
        }

        .slider-label {
            font-size: 14px;
            color: #999;
            margin-bottom: 25px;
            text-align: center;
            font-weight: 400;
        }

        .slider-wrapper {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .slider-end-label {
            font-size: 20px;
            font-weight: 700;
            min-width: 40px;
            text-align: center;
        }

        .slider-end-label.label-a {
            color: #7E6BA8;
        }

        .slider-end-label.label-b {
            color: #5B8FD9;
        }

        .slider {
            flex: 1;
            height: 60px;
            display: flex;
            justify-content: space-between;
            gap: 10px;
            padding: 8px;
            background: #f5f5f5;
            border-radius: 30px;
        }

        .slider-option {
            flex: 1;
            height: 100%;
            border-radius: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.5);
            border: 2px solid #e0e0e0;
        }

        .slider-option:hover {
            background: rgba(126, 106, 168, 0.1);
            transform: scale(1.05);
        }

        .slider-option.selected {
            background: linear-gradient(135deg, #7E6BA8 0%, #5B8FD9 100%);
            box-shadow: 0 4px 12px rgba(126, 106, 168, 0.4);
            transform: scale(1.1);
            border-color: transparent;
        }

        .result-screen {
            display: none;
        }

        .result-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .result-header h2 {
            font-size: 28px;
            color: #333;
            margin-bottom: 10px;
            font-weight: 700;
            font-family: 'RocknRoll One', sans-serif;
        }

        .result-header p {
            font-size: 15px;
            color: #666;
        }

        .radar-chart-container {
            background: white;
            border-radius: 16px;
            padding: 0;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }

        .radar-chart-container h3 {
            display: none;
        }

        #radarChart {
            max-width: 100%;
            width: 100%;
            height: auto;
            margin: 0 auto;
            display: block;
        }

        .result-card {
            background: linear-gradient(135deg, rgba(126, 106, 168, 0.08) 0%, rgba(91, 143, 217, 0.08) 100%);
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(126, 106, 168, 0.15);
        }

        .result-card h3 {
            font-size: 20px;
            background: linear-gradient(90deg, #7E6BA8 0%, #5B8FD9 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            font-weight: 700;
        }

        .result-score {
            font-size: 24px;
            font-weight: 700;
            background: linear-gradient(90deg, #7E6BA8 0%, #5B8FD9 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: transparent;
        }

        .result-bar {
            width: 100%;
            height: 12px;
            background: rgba(126, 106, 168, 0.2);
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .result-bar-fill {
            height: 100%;
            background: linear-gradient(90deg, #7E6BA8 0%, #5B8FD9 100%);
            border-radius: 10px;
            transition: width 1s ease;
        }

        .result-description {
            color: #666;
            line-height: 1.7;
            margin-top: 10px;
            font-size: 15px;
        }

        .journaling-section {
            background: white;
            padding: 25px;
            margin: 30px 0 20px;
        }

        .journaling-section h3 {
            font-family: 'RocknRoll One', sans-serif;
            font-size: 22px;
            color: #333;
            margin-bottom: 15px;
        }

        .journaling-section p {
            color: #555;
            line-height: 1.8;
            margin-bottom: 20px;
            font-size: 16px;
        }

        .journaling-prompt {
            background: white;
            padding: 8px 0;
            margin: 5px 0;
            color: #333;
            font-size: 15px;
            line-height: 1.7;
        }

        .share-button {
            background: #000000;
            color: white;
            border: none;
            border-radius: 60px;
            padding: 17px 50px;
            font-size: 24px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 25px auto;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            width: fit-content;
        }

        .share-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
            background: #1a1a1a;
        }

        .notice-text {
            text-align: center;
            color: #666;
            font-size: 15px;
            line-height: 1.8;
            margin: 25px 0 15px;
            padding: 0 20px;
        }

        .overall-result {
            background: linear-gradient(135deg, #7E6BA8 0%, #5B8FD9 100%);
            color: white;
            border-radius: 12px;
            padding: 30px;
            text-align: center;
            margin-bottom: 30px;
        }

        .overall-result h3 {
            font-size: 24px;
            margin-bottom: 10px;
        }

        .overall-score {
            font-size: 48px;
            font-weight: 700;
            margin: 20px 0;
        }

        .overall-message {
            font-size: 18px;
            opacity: 0.95;
        }

        @media (max-width: 600px) {
            .content {
                padding: 40px 25px;
            }

            .start-screen h2 {
                font-size: 26px;
            }

            .question-text {
                font-size: 24px;
            }

            .choice-cards {
                flex-direction: column;
            }

            .choice-label {
                font-size: 28px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header" id="mainHeader">
            <h1>ã€Œä»Šã€ã¨ã€Œç†æƒ³ã€ã®<br>ã‚®ãƒ£ãƒƒãƒ—ã¯<br>ã©ã‚Œãã‚‰ã„ï¼Ÿ</h1>
            <p>ãƒ©ã‚¤ãƒ•ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆè¨ºæ–­</p>
        </div>

        <div class="progress-container" id="progressContainer" style="display: none;">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">è³ªå• 1 / 20</div>
        </div>

        <div class="content">
            <!-- Start Screen -->
            <div class="start-screen" id="startScreen">
                <p>å¿ƒç†å­¦ã¨èªçŸ¥è¡Œå‹•ç™‚æ³•ã‚’å–ã‚Šå…¥ã‚ŒãŸè¨ºæ–­ã§ã€<br>5ã¤ã®é ˜åŸŸã®ã€Œä»Šã€ã¨ã€Œç†æƒ³ã€ã®ã‚®ãƒ£ãƒƒãƒ—ã‚’æ¸¬å®šã—ã¾ã™ã€‚</p>

<div class="completion-time" style="font-size: 28px;">ãŸã£ãŸ5åˆ†ã§å®Œäº†ï¼</div>

                <div class="info-box">
                    <h3>è¨ºæ–­å†…å®¹</h3>
                    <ul>
                        <li>
                            <div class="category-name">å¥åº·ï¼ˆHEALTHï¼‰</div>
                            <div class="category-desc">èº«ä½“çš„ã€ãƒ¡ãƒ³ã‚¿ãƒ«çš„ãªã‚¦ã‚§ãƒ«ãƒ“ãƒ¼ã‚¤ãƒ³ã‚°</div>
                        </li>
                        <li>
                            <div class="category-name">äººé–“é–¢ä¿‚ï¼ˆRELATIONSHIPï¼‰</div>
                            <div class="category-desc">ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã€å®¶æ—ã€å‹äººã€ä»•äº‹ã‚„ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ãƒ¼ãªã©ã®ã¤ãªãŒã‚Š</div>
                        </li>
                        <li>
                            <div class="category-name">ç›®æ¨™ï¼ˆAMBITIONï¼‰</div>
                            <div class="category-desc">è‡ªå·±å®Ÿç¾ã‚„ã‚„ã‚ŠãŸã„ã“ã¨</div>
                        </li>
                        <li>
                            <div class="category-name">ä½¿å‘½ï¼ˆPURPOSEï¼‰</div>
                            <div class="category-desc">è² ã£ã¦ã„ã‚‹ç¾©å‹™ã‚„ã‚„ã‚‹ã¹ãã“ã¨</div>
                        </li>
                        <li>
                            <div class="category-name">ãŠé‡‘ï¼ˆFINANCEï¼‰</div>
                            <div class="category-desc">çµŒæ¸ˆçš„ãªå®‰å®šã‚„è‡ªç”±</div>
                        </li>
                    </ul>
                </div>

                <div class="info-box">
                    <h3>æ‰€è¦æ™‚é–“</h3>
                    <ul>
                        <li>å…¨20å•ï¼ˆå„é ˜åŸŸ4å•ãšã¤ï¼‰</li>
                        <li>ç´„3ã€œ5åˆ†ã§å®Œäº†</li>
                        <li>ç›´æ„Ÿã§ç­”ãˆã¦ã¿ã¦ãã ã•ã„</li>
                    </ul>
                </div>

                <button class="button" onclick="startTest()">è¨ºæ–­ã—ã¦ã¿ã‚‹</button>
            </div>

            <!-- Question Screen -->
            <div class="question-screen" id="questionScreen">
                <div class="question-number" id="questionNumber">Q1</div>
                <div class="question-text" id="questionText"></div>
                <button class="button" id="nextButton" onclick="nextQuestion()" disabled>æ¬¡ã¸</button>
            </div>

            <!-- Result Screen -->
            <div class="result-screen" id="resultScreen">
                <div class="result-header">
                    <h2>ãƒ©ã‚¤ãƒ•ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆè¨ºæ–­çµæœ</h2>
                    <p>ã‚ãªãŸã®ç†æƒ³ã¨ç¾å®Ÿã®ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆçŠ¶æ…‹</p>
                </div>

                <div class="radar-chart-container">
                    <h3 style="font-family: 'RocknRoll One', sans-serif;">ãƒ©ã‚¤ãƒ•ã‚¢ã‚»ã‚¹ãƒ¡ãƒ³ãƒˆè¨ºæ–­çµæœ</h3>
                    <canvas id="radarChart" width="400" height="400"></canvas>
                </div>

                <div id="resultCards"></div>

                <div class="journaling-section">
                    <h3>ã•ã‚‰ã«æ·±ã‚ã‚‹ãªã‚‰</h3>
                    <p>ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆè¨ºæ–­ã®çµæœã¯ã©ã†ã§ã—ãŸã‹ï¼Ÿã“ã®è¨ºæ–­çµæœã‚’ã‚‚ã¨ã«ã€ãƒãƒ¼ãƒˆã«æ›¸ãå‡ºã—ã¦ã•ã‚‰ã«è€ƒãˆã‚’æ·±ã‚ã¦ã¿ã¦ã‚‚ã€‚èµ¤ãƒšãƒ³ã‚¸ãƒ£ãƒ¼ãƒŠãƒªãƒ³ã‚°ã§ã€è‡ªåˆ†ã¨å¯¾è©±ã—ã¦ã¿ã‚‹ã®ã‚‚ã‚ˆã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</p>
                    <p style="margin-top: 15px; font-size: 15px;">
                        <a href="https://redpenjournaling.com/" target="_blank" style="color: #7E6BA8; text-decoration: underline; font-weight: 700;">èµ¤ãƒšãƒ³ã‚¸ãƒ£ãƒ¼ãƒŠãƒªãƒ³ã‚° ã‚µã‚¤ãƒˆ</a><br>
                        <a href="https://note.com/kelly_note/m/m2cf113b038a0" target="_blank" style="color: #7E6BA8; text-decoration: underline; margin-top: 5px; display: inline-block; font-weight: 700;">èµ¤ãƒšãƒ³ã‚¸ãƒ£ãƒ¼ãƒŠãƒªãƒ³ã‚° note</a>
                    </p>
                    <p style="font-weight: 600; margin-bottom: 10px; margin-top: 20px;">è€ƒãˆã‚‹ãƒ’ãƒ³ãƒˆ</p>
                    <div class="journaling-prompt">
                        â— ä»Šå›ã®è¨ºæ–­ã§ã€ä¸€ç•ªã‚®ãƒ£ãƒƒãƒ—ã‚’æ„Ÿã˜ãŸé ˜åŸŸã¯ä½•ã§ã—ãŸã‹ï¼Ÿãã‚Œã¯ãªãœã ã¨æ€ã„ã¾ã™ã‹ï¼Ÿ
                    </div>
                    <div class="journaling-prompt">
                        â— ç†æƒ³ã«è¿‘ã¥ã‘ãŸé ˜åŸŸã¯ï¼Ÿãã®ç§˜è¨£ã¯ä½•ã ã¨æ€ã„ã¾ã™ã‹ï¼Ÿ
                    </div>
                    <div class="journaling-prompt">
                        â— æ˜æ—¥ã‹ã‚‰ã€ã©ã‚Œã‹1ã¤ã®é ˜åŸŸã§å°ã•ãªä¸€æ­©ã‚’è¸ã¿å‡ºã™ã¨ã—ãŸã‚‰ã€ä½•ã‚’ã—ã¾ã™ã‹ï¼Ÿ
                    </div>
                </div>

                <button class="share-button" onclick="shareToX()">ğ• çµæœã‚’Xã§ã‚·ã‚§ã‚¢</button>

                <p class="notice-text">ä»Šå›ã¯ç°¡æ˜“ç‰ˆã§ã™ãŒã€å…¨150å•ã¨è©³ã—ã„è§£èª¬ã‚’ã¤ã‘ãŸè©³ç´°ç‰ˆã‚‚ç”¨æ„ã—ã¦ã„ã¾ã™ã€‚ãœã²æ¥½ã—ã¿ã«ã—ã¦ã„ã¦ãã ã•ã„ã€‚</p>

                <button class="button" onclick="location.reload()">ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹</button>
            </div>
        </div>
    </div>

    <script>
        // è³ªå•ãƒ‡ãƒ¼ã‚¿ï¼ˆ20å•ï¼šå„ã‚«ãƒ†ã‚´ãƒª4å•ãšã¤ï¼‰
        const questions = [
            // å¥åº·ï¼ˆ4å•ï¼‰
            {category: "å¥åº·", question: "æœã€ç›®è¦šã¾ã—ãŒé³´ã£ãŸã‚‰", optionA: "ã‚¹ãƒƒã‚­ãƒªèµ·ãã‚‰ã‚Œã‚‹", optionB: "ã‚ã¨5åˆ†...ãŒæ­¢ã¾ã‚‰ãªã„"},
            {category: "å¥åº·", question: "é§…ã®éšæ®µã€ã©ã†ã—ã¦ã„ã‚‹", optionA: "éšæ®µã§è¡Œãæ´¾", optionB: "ã‚¨ã‚¹ã‚«ãƒ¬ãƒ¼ã‚¿ãƒ¼ä¸€æŠ"},
            {category: "å¥åº·", question: "ä½“åŠ›çš„ã«", optionA: "ã¾ã ã¾ã ã„ã‘ã‚‹", optionB: "ã™ããƒãƒ†ã‚‹"},
            {category: "å¥åº·", question: "å¥åº·é¢ã€ç†æƒ³ã¨æ¯”ã¹ã‚‹ã¨", optionA: "ã‹ãªã‚Šè¿‘ã„", optionB: "çµæ§‹ã‚®ãƒ£ãƒƒãƒ—ãŒã‚ã‚‹"},
            
            // äººé–“é–¢ä¿‚ï¼ˆ4å•ï¼‰
            {category: "äººé–“é–¢ä¿‚", question: "å®¶ã«å¸°ã‚‹æ™‚", optionA: "æ¥½ã—ã¿", optionB: "ã¡ã‚‡ã£ã¨æ†‚é¬±"},
            {category: "äººé–“é–¢ä¿‚", question: "å›°ã£ãŸæ™‚ã€ç›¸è«‡ã§ãã‚‹äºº", optionA: "ã™ãé¡”ãŒæµ®ã‹ã¶", optionB: "æ€ã„ã¤ã‹ãªã„"},
            {category: "äººé–“é–¢ä¿‚", question: "äººã¨ä¼šã£ãŸå¾Œ", optionA: "æ¥½ã—ã‹ã£ãŸ", optionB: "ã©ã£ã¨ç–²ã‚ŒãŸ"},
            {category: "äººé–“é–¢ä¿‚", question: "äººé–“é–¢ä¿‚ã®ãƒˆãƒ©ãƒ–ãƒ«", optionA: "ã»ã¼ãªã„", optionB: "ã‘ã£ã“ã†ã‚ã‚‹"},
            
            // é‡å¿ƒãƒ»ç›®æ¨™é”æˆï¼ˆ4å•ï¼‰
            {category: "é‡å¿ƒ", question: "ä»Šå¹´ã®ç›®æ¨™", optionA: "ãƒãƒƒãƒãƒªæ±ºã‚ã¦ã„ã‚‹", optionB: "ç‰¹ã«ãªã„"},
            {category: "é‡å¿ƒ", question: "æœ€è¿‘ã€é”æˆæ„Ÿå‘³ã‚ã£ãŸï¼Ÿ", optionA: "ã¤ã„æœ€è¿‘", optionB: "æ€ã„å‡ºã›ãªã„"},
            {category: "é‡å¿ƒ", question: "ç†æƒ³ã®ã‚­ãƒ£ãƒªã‚¢", optionA: "è¿‘ã¥ã„ã¦ã„ã‚‹", optionB: "ã¾ã é ã„"},
            {category: "é‡å¿ƒ", question: "å°†æ¥è€ƒãˆã‚‹ã¨", optionA: "ãƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹", optionB: "ä¸å®‰ã«ãªã‚‹"},
            
            // ä½¿å‘½ãƒ»æ„ç¾©ï¼ˆ4å•ï¼‰
            {category: "ä½¿å‘½", question: "æœèµ·ãã‚‹ç†ç”±", optionA: "ã‚ã‚‹", optionB: "ãªã„"},
            {category: "ä½¿å‘½", question: "è‡ªåˆ†ã®ä»•äº‹", optionA: "èª°ã‹ã®å½¹ã«ç«‹ã£ã¦ã„ã‚‹", optionB: "æ„å‘³ã‚ã‚‹ã®ã‹ä¸æ˜"},
            {category: "ä½¿å‘½", question: "äººç”Ÿã®ç›®çš„", optionA: "è‡ªåˆ†ãªã‚Šã«æ˜ç¢º", optionB: "è¦‹ã¤ã‹ã£ã¦ãªã„"},
            {category: "ä½¿å‘½", question: "ä»•äº‹ã¨ä¾¡å€¤è¦³", optionA: "åˆã£ã¦ã„ã‚‹", optionB: "ã‚ºãƒ¬ã¦ã„ã‚‹"},
            
            // è²¡å‹™ãƒ»ãŠé‡‘ï¼ˆ4å•ï¼‰
            {category: "è²¡å‹™", question: "çµ¦æ–™æ—¥å‰", optionA: "ä½™è£•ãŒã‚ã‚‹", optionB: "ã‚«ãƒ„ã‚«ãƒ„"},
            {category: "è²¡å‹™", question: "ãŠé‡‘ã®å¿ƒé…", optionA: "ã—ã¦ã„ãªã„", optionB: "ã„ã¤ã‚‚ã—ã¦ã„ã‚‹"},
            {category: "è²¡å‹™", question: "æ¬²ã—ã„ã‚‚ã®", optionA: "è¿·ã‚ãšè²·ãˆã‚‹", optionB: "æˆ‘æ…¢ã™ã‚‹"},
            {category: "è²¡å‹™", question: "ãŠé‡‘ã®ã‚¹ãƒˆãƒ¬ã‚¹", optionA: "ã»ã¼ãªã„", optionB: "ã‹ãªã‚Šã‚ã‚‹"}
        ];

        // è³ªå•ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã—ã¦æ··ãœã‚‹
        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        const shuffledQuestions = shuffleArray(questions);

        let currentQuestionIndex = 0;
        let answers = [];

        function startTest() {
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('questionScreen').style.display = 'block';
            document.getElementById('progressContainer').style.display = 'block';
            document.getElementById('mainHeader').style.display = 'none';
            showQuestion();
        }

        function showQuestion() {
            const question = shuffledQuestions[currentQuestionIndex];

            document.getElementById('questionNumber').textContent = `Q${currentQuestionIndex + 1}`;
            document.getElementById('questionText').textContent = question.question;
            
            const choicesHtml = `
                <div class="choice-container">
                    <div class="choice-cards">
                        <div class="choice-item choice-a">
                            <div class="choice-label">A</div>
                            <div class="choice-text">${question.optionA}</div>
                        </div>
                        <div class="choice-item choice-b">
                            <div class="choice-label">B</div>
                            <div class="choice-text">${question.optionB}</div>
                        </div>
                    </div>
                </div>
            `;

            const sliderHtml = `
                <div class="slider-container">
                    <div class="slider-label">ã‚ãªãŸã®ä»Šã«æœ€ã‚‚è¿‘ã„ã‚‚ã®ã‚’é¸ã‚“ã§ãã ã•ã„</div>
                    <div class="slider-wrapper">
                        <div class="slider-end-label label-a">A</div>
                        <div class="slider">
                            <div class="slider-option" onclick="selectOption(5)"></div>
                            <div class="slider-option" onclick="selectOption(4)"></div>
                            <div class="slider-option" onclick="selectOption(3)"></div>
                            <div class="slider-option" onclick="selectOption(2)"></div>
                            <div class="slider-option" onclick="selectOption(1)"></div>
                        </div>
                        <div class="slider-end-label label-b">B</div>
                    </div>
                </div>
            `;

            const existingChoices = document.querySelector('.choice-container');
            if (existingChoices) {
                existingChoices.remove();
            }
            const existingSlider = document.querySelector('.slider-container');
            if (existingSlider) {
                existingSlider.remove();
            }

            document.getElementById('questionText').insertAdjacentHTML('afterend', choicesHtml);
            const container = document.querySelector('.choice-container');
            container.insertAdjacentHTML('afterend', sliderHtml);

            // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼æ›´æ–°
            const progress = ((currentQuestionIndex) / shuffledQuestions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `è³ªå• ${currentQuestionIndex + 1} / ${shuffledQuestions.length}`;

            document.getElementById('nextButton').disabled = true;
        }

        function selectOption(score) {
            const options = document.querySelectorAll('.slider-option');
            options.forEach(opt => opt.classList.remove('selected'));
            
            const selectedIndex = 5 - score;
            options[selectedIndex].classList.add('selected');

            answers[currentQuestionIndex] = {
                category: shuffledQuestions[currentQuestionIndex].category,
                score: score
            };
            document.getElementById('nextButton').disabled = false;
        }

        function nextQuestion() {
            currentQuestionIndex++;

            if (currentQuestionIndex >= shuffledQuestions.length) {
                showResults();
            } else {
                showQuestion();
            }
        }

        function showResults() {
            document.getElementById('questionScreen').style.display = 'none';
            document.getElementById('progressContainer').style.display = 'none';
            document.getElementById('resultScreen').style.display = 'block';

            // ã‚«ãƒ†ã‚´ãƒªåˆ¥ã‚¹ã‚³ã‚¢è¨ˆç®—
            const categoryScores = {
                'å¥åº·': { total: 0, count: 0, max: 0 },
                'äººé–“é–¢ä¿‚': { total: 0, count: 0, max: 0 },
                'é‡å¿ƒ': { total: 0, count: 0, max: 0 },
                'ä½¿å‘½': { total: 0, count: 0, max: 0 },
                'è²¡å‹™': { total: 0, count: 0, max: 0 }
            };

            answers.forEach(answer => {
                categoryScores[answer.category].total += answer.score;
                categoryScores[answer.category].count += 1;
                categoryScores[answer.category].max += 5;
            });

            // ãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸è¨ˆç®—
            const percentages = {};
            Object.keys(categoryScores).forEach(cat => {
                percentages[cat] = Math.round((categoryScores[cat].total / categoryScores[cat].max) * 100);
            });

            // ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆæç”»
            drawRadarChart(percentages);

            // çµæœã‚«ãƒ¼ãƒ‰è¡¨ç¤º
            displayResultCards(percentages);
        }

        function drawRadarChart(percentages) {
            const canvas = document.getElementById('radarChart');
            const ctx = canvas.getContext('2d');
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = 120;

            // ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚’ã‚¯ãƒªã‚¢
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // ã‚«ãƒ†ã‚´ãƒªã®é †åºï¼ˆæ™‚è¨ˆå›ã‚Šã€12æ™‚ã‚¹ã‚¿ãƒ¼ãƒˆï¼‰
            const categories = [
                { name: 'å¥åº·', label: 'å¥åº·' },
                { name: 'è²¡å‹™', label: 'ãŠé‡‘' },
                { name: 'é‡å¿ƒ', label: 'ç›®æ¨™' },
                { name: 'ä½¿å‘½', label: 'ä½¿å‘½' },
                { name: 'äººé–“é–¢ä¿‚', label: 'äººé–“é–¢ä¿‚' }
            ];

            // èƒŒæ™¯ã®å††ã‚’æç”»ï¼ˆã‚°ãƒ¬ãƒ¼ã®åŒå¿ƒå††ï¼‰
            ctx.strokeStyle = '#e8e8e8';
            ctx.lineWidth = 1;
            for (let i = 1; i <= 5; i++) {
                ctx.beginPath();
                ctx.arc(centerX, centerY, (radius / 5) * i, 0, Math.PI * 2);
                ctx.stroke();
            }

            // è»¸ã‚’æç”»ï¼ˆã‚°ãƒ¬ãƒ¼ã®æ”¾å°„ç·šï¼‰
            ctx.strokeStyle = '#e8e8e8';
            categories.forEach((_, i) => {
                const angle = (Math.PI * 2 * i) / 5 - Math.PI / 2;
                const x = centerX + Math.cos(angle) * radius;
                const y = centerY + Math.sin(angle) * radius;
                
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(x, y);
                ctx.stroke();
            });

            // ãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒˆã‚’æç”»
            ctx.beginPath();
            categories.forEach((cat, i) => {
                const angle = (Math.PI * 2 * i) / 5 - Math.PI / 2;
                const value = (percentages[cat.name] / 100) * radius;
                const x = centerX + Math.cos(angle) * value;
                const y = centerY + Math.sin(angle) * value;
                
                if (i === 0) {
                    ctx.moveTo(x, y);
                } else {
                    ctx.lineTo(x, y);
                }
            });
            ctx.closePath();
            ctx.fillStyle = 'rgba(126, 106, 168, 0.2)';
            ctx.fill();
            ctx.strokeStyle = '#7E6BA8';
            ctx.lineWidth = 2;
            ctx.stroke();

            // ãƒ©ãƒ™ãƒ«ã‚’æç”»
            ctx.fillStyle = '#7E6BA8';
            ctx.font = '18px "RocknRoll One", sans-serif';
            
            categories.forEach((cat, i) => {
                const angle = (Math.PI * 2 * i) / 5 - Math.PI / 2;
                const labelRadius = radius + 10;
                const x = centerX + Math.cos(angle) * labelRadius;
                const y = centerY + Math.sin(angle) * labelRadius;
                
                // ä½ç½®ã«å¿œã˜ã¦ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆã‚’èª¿æ•´
                if (i === 0) { // ä¸Šï¼ˆå¥åº·ï¼‰
                    ctx.textAlign = 'center';
                    ctx.textBaseline = 'bottom';
                } else if (i === 1) { // å³ä¸Šï¼ˆãŠé‡‘ï¼‰
                    ctx.textAlign = 'left';
                    ctx.textBaseline = 'middle';
                } else if (i === 2) { // å³ä¸‹ï¼ˆç›®æ¨™ï¼‰
                    ctx.textAlign = 'left';
                    ctx.textBaseline = 'middle';
                } else if (i === 3) { // å·¦ä¸‹ï¼ˆä½¿å‘½ï¼‰
                    ctx.textAlign = 'right';
                    ctx.textBaseline = 'middle';
                } else if (i === 4) { // å·¦ä¸Šï¼ˆäººé–“é–¢ä¿‚ï¼‰
                    ctx.textAlign = 'right';
                    ctx.textBaseline = 'middle';
                }
                
                ctx.fillText(cat.label, x, y);
            });
        }

        function displayResultCards(percentages) {
            const resultCardsDiv = document.getElementById('resultCards');
            const categoryMap = {
                'å¥åº·': { class: 'health', name: 'å¥åº·' },
                'äººé–“é–¢ä¿‚': { class: 'relationships', name: 'äººé–“é–¢ä¿‚' },
                'é‡å¿ƒ': { class: 'ambition', name: 'ç›®æ¨™' },
                'ä½¿å‘½': { class: 'purpose', name: 'ä½¿å‘½' },
                'è²¡å‹™': { class: 'finance', name: 'ãŠé‡‘' }
            };

            let html = '';
            Object.keys(percentages).forEach(cat => {
                const info = categoryMap[cat];
                const percentage = percentages[cat];
                
                html += `
                    <div class="result-card ${info.class}">
                        <h3>
                            ${info.name}
                            <span class="result-score">${percentage}%</span>
                        </h3>
                        <div class="result-bar">
                            <div class="result-bar-fill" style="width: ${percentage}%"></div>
                        </div>
                        <div class="result-description">
                            ${getDescription(percentage)}
                        </div>
                    </div>
                `;
            });

            resultCardsDiv.innerHTML = html;
        }

        function getDescription(percentage) {
            if (percentage >= 80) {
                return 'ã ã„ã¶ä¸€è‡´ã—ã¦ãã†ã€‚';
            } else if (percentage >= 60) {
                return 'ã‚ˆã„æ„Ÿã˜ã€‚å°‘ã—è¦‹ç›´ã™ã“ã¨ã§ã•ã‚‰ã«ã‚ˆããªã‚‹å¯èƒ½æ€§ã‚‚ã€‚';
            } else if (percentage >= 40) {
                return 'å°ã•ãªä¸€æ­©ãŒå¤§ããªå¤‰åŒ–ã¸ã€‚';
            } else {
                return 'ã‚®ãƒ£ãƒƒãƒ—ãŒã‘ã£ã“ã†ã‚ã‚‹ã‹ã‚‚ã€‚å°‘ã—ãã®ã‚®ãƒ£ãƒƒãƒ—ã‚’æ„è­˜ã—ã¦ã¿ã¦ã‚‚ã€‚';
            }
        }

        function shareToX() {
            const text = 'ã€Œä»Šã€ã¨ã€Œç†æƒ³ã€ã®ã‚®ãƒ£ãƒƒãƒ—ã‚’è¨ºæ–­ã—ã¦ã¿ãŸï¼\n\nãƒ©ã‚¤ãƒ•ã‚¢ãƒ©ã‚¤ãƒ¡ãƒ³ãƒˆè¨ºæ–­ã§ã€è‡ªåˆ†ã®5ã¤ã®é ˜åŸŸã‚’ãƒã‚§ãƒƒã‚¯ã€‚';
            const url = window.location.href;
            const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
            window.open(twitterUrl, '_blank');
        }
    </script>
</body>
</html>
